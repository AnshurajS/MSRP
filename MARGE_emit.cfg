[DEFAULT]
verb = 2

[MARGE]
which = emit
datagen     = False
datagenfile = MARGE.generate_data
processdat = False
preservedat = False
inputdir  = /net/flood/home/asedai/MARGE/data/emit ; where your .npz lives
outputdir = outputs/surrogate
datadir   = /net/flood/home/asedai/MARGE/data/emit

isects     = 4                ; 4 input dims
ishape     = 4
oshape     = 53              

xvals  = None
xlabel = None
ylabel = None

NNModel   = True
trainflag = True
gridsearch = False

weight_file = nn_emit.keras
nodes       = 128 128 64
layers      = dense batchnorm dropout dense batchnorm dropout dense 
lay_params  = None None 0.2 None None 0.10 None 
activations = relu relu relu
act_params  = None None None

epochs     = 150
patience = 30
ncores = 50
buffer_size = 15
batch_size = 32

normalize  = False
scale      = True
scalelims  = 0, 1
plot_cases = None

ilog = False
olog = False
use_cpu = True

clr_mode   = triangular2
clr_steps  = 12000
cfile = /net/flood/home/asedai/MARGE/MARGE_emit.cfg

lengthscale = 2e-5
max_lr = 2e-4

gradient_clip = 1.0
weight_decay = 1e-5
early_stop_metric = val_loss
reduce_lr_patience = 15
reduce_lr_factor = 0.5
min_lr = 1e-6
